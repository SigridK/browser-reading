<html>
<head>
	<meta charset="UTF-8"/>
    <title>1</title>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <script type="text/javascript" src="jquery-2.1.4.min.js"></script>
    <script type="text/javascript">
    	function measure_boxes(screen_elem) {
    		var timestamp = $.now()
    		var boxes = $(".char",screen_elem).map(function(index, char_elem) {
    			var bb = char_elem.getBoundingClientRect()
    			return {text: char_elem.textContent,
     					   id: char_elem.getAttribute("id"),
    					   bottom: bb.bottom,
    					   height: bb.height,
    					   left: bb.left,
    					   right: bb.right,
    					   top: bb.top,
    					   width: bb.width
    					}

    		})
    		var clean_boxes = boxes.get()
    		$.post("http://localhost:5000/", JSON.stringify({boxes:clean_boxes,
    			timestamp:timestamp,
    			screen_id:screen_elem.attr("id")}
    			))

    	}
    	$(document).ready(function() {
    		$(".screen").hide()
    		$(".screen").first().show()

    		$(document).keyup(function(key_event) {
    			// space bar is 32.
    			if (key_event.which==32) {
	    			var current_visible = $(".screen:visible").first()
	    			current_visible.hide()
	    			current_visible = current_visible.next(".screen").show()
	    			measure_boxes(current_visible)
	    		}

    		})
    	}) 
    </script>
</head>
<body>

<div id="s1" class='screen'>
    <span class='token'><span id='0-0' class='first char'>@</span><span id='0-1' class='middle char'>5</span><span id='0-2' class='middle char'>s</span><span id='0-3' class='middle char'>e</span><span id='0-4' class='middle char'>c</span><span id='0-5' class='middle char'>s</span><span id='0-6' class='middle char'>o</span><span id='0-7' class='middle char'>f</span><span id='0-8' class='middle char'>s</span><span id='0-9' class='middle char'>u</span><span id='0-10' class='middle char'>m</span><span id='0-11' class='middle char'>m</span><span id='0-12' class='middle char'>e</span><span id='0-13' class='last char'>r</span></span><span class='token'><span id='1-0' class='first char'>#</span><span id='1-1' class='middle char'>5</span><span id='1-2' class='middle char'>s</span><span id='1-3' class='middle char'>o</span><span id='1-4' class='middle char'>s</span><span id='1-5' class='middle char'>b</span><span id='1-6' class='middle char'>i</span><span id='1-7' class='middle char'>g</span><span id='1-8' class='middle char'>a</span><span id='1-9' class='middle char'>p</span><span id='1-10' class='middle char'>p</span><span id='1-11' class='middle char'>l</span><span id='1-12' class='middle char'>e</span><span id='1-13' class='last char'>s</span></span><span class='token'><span id='2-0' class='first char'>p</span><span id='2-1' class='middle char'>l</span><span id='2-2' class='middle char'>e</span><span id='2-3' class='middle char'>a</span><span id='2-4' class='middle char'>s</span><span id='2-5' class='last char'>e</span></span><span class='token'><span id='3-0' class='first char'>c</span><span id='3-1' class='middle char'>h</span><span id='3-2' class='middle char'>e</span><span id='3-3' class='middle char'>c</span><span id='3-4' class='last char'>k</span></span><span class='token'><span id='4-0' class='first char'>y</span><span id='4-1' class='middle char'>o</span><span id='4-2' class='middle char'>u</span><span id='4-3' class='last char'>r</span></span><span class='token'><span id='5-0' class='first char'>D</span><span id='5-1' class='middle char'>M</span><span id='5-2' class='middle char'>s</span><span id='5-3' class='last char'>.</span></span><span class='token'><span id='6-0' class='first char'>I</span><span id='6-1' class='last char'>t</span></span><span class='token'><span id='7-0' class='first char'>w</span><span id='7-1' class='middle char'>o</span><span id='7-2' class='middle char'>u</span><span id='7-3' class='middle char'>l</span><span id='7-4' class='last char'>d</span></span><span class='token'><span id='8-0' class='first char'>m</span><span id='8-1' class='middle char'>e</span><span id='8-2' class='middle char'>a</span><span id='8-3' class='last char'>n</span></span><span class='token'><span id='9-0' class='single char'>a</span></span><span class='token'><span id='10-0' class='first char'>l</span><span id='10-1' class='middle char'>o</span><span id='10-2' class='last char'>t</span></span>
        </div>

<div id="s2" class='screen'>
            <span class='token'><span id='0-0' class='first char'>@</span><span id='0-1' class='middle char'>b</span><span id='0-2' class='middle char'>r</span><span id='0-3' class='middle char'>a</span><span id='0-4' class='middle char'>d</span><span id='0-5' class='middle char'>l</span><span id='0-6' class='middle char'>o</span><span id='0-7' class='middle char'>n</span><span id='0-8' class='middle char'>c</span><span id='0-9' class='middle char'>a</span><span id='0-10' class='last char'>r</span></span><span class='token'><span id='1-0' class='first char'>@</span><span id='1-1' class='middle char'>r</span><span id='1-2' class='middle char'>i</span><span id='1-3' class='middle char'>v</span><span id='1-4' class='middle char'>e</span><span id='1-5' class='middle char'>r</span><span id='1-6' class='middle char'>s</span><span id='1-7' class='middle char'>t</span><span id='1-8' class='middle char'>o</span><span id='1-9' class='middle char'>n</span><span id='1-10' class='middle char'>e</span><span id='1-11' class='middle char'>c</span><span id='1-12' class='middle char'>a</span><span id='1-13' class='last char'>p</span></span><span class='token'><span id='2-0' class='first char'>s</span><span id='2-1' class='middle char'>t</span><span id='2-2' class='middle char'>o</span><span id='2-3' class='middle char'>c</span><span id='2-4' class='last char'>k</span></span><span class='token'><span id='3-0' class='first char'>h</span><span id='3-1' class='middle char'>a</span><span id='3-2' class='last char'>s</span></span><span class='token'><span id='4-0' class='first char'>o</span><span id='4-1' class='middle char'>u</span><span id='4-2' class='middle char'>t</span><span id='4-3' class='middle char'>p</span><span id='4-4' class='middle char'>e</span><span id='4-5' class='middle char'>r</span><span id='4-6' class='middle char'>f</span><span id='4-7' class='middle char'>o</span><span id='4-8' class='middle char'>r</span><span id='4-9' class='middle char'>m</span><span id='4-10' class='middle char'>e</span><span id='4-11' class='last char'>d</span></span><span class='token'><span id='5-0' class='first char'>f</span><span id='5-1' class='middle char'>o</span><span id='5-2' class='last char'>r</span></span><span class='token'><span id='6-0' class='first char'>m</span><span id='6-1' class='middle char'>a</span><span id='6-2' class='middle char'>n</span><span id='6-3' class='last char'>y</span></span><span class='token'><span id='7-0' class='first char'>m</span><span id='7-1' class='middle char'>o</span><span id='7-2' class='middle char'>n</span><span id='7-3' class='middle char'>t</span><span id='7-4' class='middle char'>h</span><span id='7-5' class='middle char'>s</span><span id='7-6' class='last char'>,</span></span><span class='token'><span id='8-0' class='first char'>t</span><span id='8-1' class='middle char'>h</span><span id='8-2' class='middle char'>i</span><span id='8-3' class='middle char'>n</span><span id='8-4' class='middle char'>g</span><span id='8-5' class='last char'>s</span></span><span class='token'><span id='9-0' class='first char'>d</span><span id='9-1' class='middle char'>o</span><span id='9-2' class='middle char'>n</span><span id='9-3' class='last char'>t</span></span><span class='token'><span id='10-0' class='first char'>g</span><span id='10-1' class='last char'>o</span></span><span class='token'><span id='11-0' class='first char'>s</span><span id='11-1' class='middle char'>t</span><span id='11-2' class='middle char'>r</span><span id='11-3' class='middle char'>a</span><span id='11-4' class='middle char'>i</span><span id='11-5' class='middle char'>g</span><span id='11-6' class='middle char'>h</span><span id='11-7' class='last char'>t</span></span><span class='token'><span id='12-0' class='first char'>u</span><span id='12-1' class='middle char'>p</span><span id='12-2' class='last char'>.</span></span>
        </div>

 <div id="s3" class='screen'>
            <span class='token'><span id='0-0' class='first char'>“</span><span id='0-1' class='middle char'>@</span><span id='0-2' class='middle char'>K</span><span id='0-3' class='middle char'>n</span><span id='0-4' class='middle char'>e</span><span id='0-5' class='middle char'>e</span><span id='0-6' class='middle char'>_</span><span id='0-7' class='middle char'>M</span><span id='0-8' class='middle char'>a</span><span id='0-9' class='middle char'>r</span><span id='0-10' class='middle char'>t</span><span id='0-11' class='last char'>:</span></span><span class='token'><span id='1-0' class='single char'>I</span></span><span class='token'><span id='2-0' class='first char'>w</span><span id='2-1' class='middle char'>o</span><span id='2-2' class='middle char'>n</span><span id='2-3' class='middle char'>d</span><span id='2-4' class='middle char'>e</span><span id='2-5' class='last char'>r</span></span><span class='token'><span id='3-0' class='first char'>i</span><span id='3-1' class='last char'>f</span></span><span class='token'><span id='4-0' class='first char'>t</span><span id='4-1' class='middle char'>h</span><span id='4-2' class='middle char'>e</span><span id='4-3' class='middle char'>y</span><span id='4-4' class='middle char'>'</span><span id='4-5' class='middle char'>l</span><span id='4-6' class='last char'>l</span></span><span class='token'><span id='5-0' class='first char'>g</span><span id='5-1' class='middle char'>e</span><span id='5-2' class='last char'>t</span></span><span class='token'><span id='6-0' class='single char'>a</span></span><span class='token'><span id='7-0' class='first char'>s</span><span id='7-1' class='middle char'>h</span><span id='7-2' class='middle char'>o</span><span id='7-3' class='last char'>t</span></span><span class='token'><span id='8-0' class='first char'>o</span><span id='8-1' class='last char'>n</span></span><span class='token'><span id='9-0' class='first char'>t</span><span id='9-1' class='middle char'>h</span><span id='9-2' class='middle char'>i</span><span id='9-3' class='last char'>s</span></span><span class='token'><span id='10-0' class='first char'>P</span><span id='10-1' class='middle char'>P</span><span id='10-2' class='middle char'>.</span><span id='10-3' class='middle char'>”</span><span id='10-4' class='middle char'>t</span><span id='10-5' class='middle char'>h</span><span id='10-6' class='middle char'>e</span><span id='10-7' class='last char'>y</span></span><span class='token'><span id='11-0' class='first char'>d</span><span id='11-1' class='middle char'>i</span><span id='11-2' class='middle char'>d</span><span id='11-3' class='middle char'>n</span><span id='11-4' class='middle char'>'</span><span id='11-5' class='last char'>t</span></span><span class='token'><span id='12-0' class='first char'>b</span><span id='12-1' class='middle char'>r</span><span id='12-2' class='middle char'>o</span><span id='12-3' class='last char'>.</span></span><span class='token'><span id='13-0' class='first char'>F</span><span id='13-1' class='middle char'>r</span><span id='13-2' class='middle char'>o</span><span id='13-3' class='middle char'>m</span><span id='13-4' class='last char'>,</span></span><span class='token'><span id='14-0' class='first char'>u</span><span id='14-1' class='middle char'>p</span><span id='14-2' class='middle char'>s</span><span id='14-3' class='middle char'>t</span><span id='14-4' class='middle char'>a</span><span id='14-5' class='middle char'>i</span><span id='14-6' class='middle char'>r</span><span id='14-7' class='last char'>s</span></span>
        </div>
        </body>
        </html>
